/*! MrSlyde jQuery plugin version 1.0.1 (https://github.com/jamwaffles/MrSlyde), compiled on 24/07/2013 */
!function(a){a.fn.mrslyde=function(b){function c(b){var c={},d=b.data();return a.each(o,function(a){void 0!==d[a]&&(c[a]=d[a])}),d}function d(a,b,c){return q(c,r(a,b))}function e(a,b){return s(a/b)*b}function f(a,b){return parseFloat(a).toFixed(b)}function g(b,c,d){var e=a(b).parent()[0];a(b).data("value",c);var f=(c-d.min)/(d.max-d.min);b.mrslyde.left=100*f,h(b,100*f*(1/(b.offsetWidth/e.clientWidth))+"%",100*f+"%")}function h(a,b,c){null!==t?a.style[t]="translate("+b+", 0)":a.style.left=c}function i(a,b,c,f,g){var i=f.props,j=c-b.offsetLeft-i.handleWidth/2,k=0,l=1;void 0!==g&&(0===i.handle.index()?l=g.mrslyde.left/100-i.handleWidthNormalised:k=g.mrslyde.left/100+i.handleWidthNormalised);var m=d(e(j/i.trackWidth,f.normalisedStepSize),k,l),n=f.min+(f.max-f.min)*m;return i.handle.data("value",n),a.mrslyde.left=100*m,h(a,100*m*(1/i.handleWidthNormalised)+"%",a.mrslyde.left+"%"),n}function j(b,c,d){var e=a(b).children(".range-bar")[0];100*(c.offsetWidth/b.clientWidth);var f=d.mrslyde.left-c.mrslyde.left;e.style.left=c.mrslyde.left+"%",e.style.width=f+"%"}function k(b,c,d,e){var g=f(a(b[0]).data("value"),c.precision),h=f(a(b[1]).data("value"),c.precision);return e.innerHTML=g,b.length>1&&(e.innerHTML+=" &#8211; "+h),g+(isNaN(h)?"":","+h)}function l(a){if(document.documentElement.className.indexOf("slyding")>-1){var b=n.handles,c=n.opt,d=(a.touches?a.touches[0].pageX:a.pageX)||a.clientX;i(n.handle,n.track[0],d,n.opt,n.otherHandle),c.range&&j(n.track[0],b[0],b[1]),n.input[0].value=k(b,c,n.input,n.label),n.input.trigger("slydechange")}}function m(b,c){var e=p.clone(),f=e.find(".mrslyde-handle");if(c.range){var h=f.clone();f.after(h),e.find(".track").append(a("<div />").addClass("range-bar"))}b.addClass("mrslyde").hide().after(e),e.find(".left").text(c.min),e.find(".right").text(c.max),f.parent().data("mrslyde",c);var i=e.find(".mrslyde-handle");i.each(function(a){this.mrslyde={},c.value[a]=d(parseFloat(c.value[a]),c.min,c.max),g(this,c.value[a],c)}),2===i.length&&j(e.find(".track")[0],i[0],i[1]),k(i,c,b,e.find(".center")[0]),c.labels||e.find(".values").hide()}var n=null,o={min:0,max:100,step:10,snap:!0,labels:!0,precision:0,range:!1},p=a('<div class="mrslyde-container">			<div class="track-wrapper">				<div class="track">					<span class="mrslyde-handle"></span>				</div>			</div>			<div class="values">				<span class="left"></span><span class="center"></span><span class="right"></span>			</div>		</div>'),q=Math.min,r=Math.max,s=Math.round,t=null;return void 0!==document.body.style.transform?t="transform":void 0!==document.body.style.WebkitTransform?t="WebkitTransform":void 0!==document.body.style.MozTransform?t="MozTransform":void 0!==document.body.style.MsTransform?t="MsTransform":void 0!==document.body.style.OTransform&&(t="OTransform"),a("body").on("mousedown touchstart",function(b){var c=a(b.target);if(c.hasClass("mrslyde-handle")){b.preventDefault(),c.addClass("mousedown"),a("html").addClass("slyding"),"touchstart"===b.type&&c.addClass("touch"),n={handle:c[0],track:c.parent(),container:c.closest(".mrslyde-container"),otherHandle:c.siblings(".mrslyde-handle").first()[0]},n.handles=n.track.children(".mrslyde-handle").toArray(),n.opt=n.track.data("mrslyde"),n.input=n.container.prev(),n.label=n.container.find(".center")[0];var d={handle:c,handleWidth:c[0].offsetWidth,trackWidth:n.track[0].clientWidth};d.handleWidthNormalised=d.handleWidth/d.trackWidth,n.opt.props=d,n.input.trigger("slydestart")}}),void 0!==document.addEventListener?(document.addEventListener("mousemove",l,!1),document.addEventListener("touchmove",l,!1)):document.attachEvent&&document.attachEvent("onmousemove",l),a("body").on("mouseup touchend",function(){null!==n&&(n.input.trigger("slydeend"),a(".mrslyde-handle").removeClass("mousedown touch"),a("html").removeClass("slyding"),n=null)}),a("body").on("change","input.mrslyde",function(){var b=a(this).next(),c=b.find(".mrslyde-handle"),e=b.find(".track").data("mrslyde");e.value=this.value.split(","),c.each(function(a){e.value[a]=d(parseFloat(e.value[a]),e.min,e.max),g(this,e.value[a],e)}),2===c.length&&j(b.find(".track")[0],c[0],c[1]),this.value=e.value.join(","),k(c,e,this,a(this).next().find(".center"))}),this.each(function(){var d=a.extend({},o,c(a(this)),b);d.min=e(d.min,d.step),d.max=e(d.max,d.step),d.value=this.value.split(","),d.value[0].length||(d.value=[d.max-(d.max-d.min)/2]),d.normalisedStepSize=1/((d.max-d.min)/d.step),m(a(this),d)})}}(jQuery);