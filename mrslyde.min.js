/*! MrSlyde jQuery plugin version 1.0.0 (https://github.com/jamwaffles/MrSlyde), compiled on 23/07/2013 */
!function(a){a.fn.mrslyde=function(b){function c(b){var c={},d=b.data();return a.each(n,function(a){void 0!==d[a]&&(c[a]=d[a])}),d}function d(a,b,c){return p(c,q(a,b))}function e(a,b){return r(a/b)*b}function f(a,b){return parseFloat(a).toFixed(b)}function g(b,c,d){a(b).parent(),a(b).data("value",c);var e=(c-d.min)/(d.max-d.min);b.style.left=100*e+"%"}function h(a,b,c,f,g){var h=f.props,i=c-b.offsetLeft-h.handleWidth/2,j=0,k=1;void 0!==g&&(0===h.handle.index()?k=parseFloat(g.style.left)/100-h.handleWidthNormalised:j=parseFloat(g.style.left)/100+h.handleWidthNormalised);var l=d(e(i/h.trackWidth,f.normalisedStepSize),j,k),m=f.min+(f.max-f.min)*l;return h.handle.data("value",m),a.style.left=100*l+"%",m}function i(b,c,d){var e=a(b).children(".range-bar")[0];100*(c.offsetWidth/b.clientWidth);var f=parseFloat(d.style.left)-parseFloat(c.style.left);e.style.left=c.style.left,e.style.width=f+"%"}function j(b,c,d,e){var g=f(a(b[0]).data("value"),c.precision),h=f(a(b[1]).data("value"),c.precision);return e.innerHTML=g,b.length>1&&(e.innerHTML+=" &#8211; "+h),g+(isNaN(h)?"":","+h)}function k(a){if(document.documentElement.className.indexOf("slyding")>-1){var b=m.handles,c=m.opt,d=a.pageX||a.clientX||a.touches[0].clientX;h(m.handle,m.track[0],d,m.opt,m.otherHandle),c.range&&i(m.track[0],b[0],b[1]),m.input[0].value=j(b,c,m.input,m.label),m.input.trigger("slydechange")}}function l(b,c){var e=o.clone(),f=e.find(".mrslyde-handle");if(c.range){var h=f.clone();f.after(h),e.find(".track").append(a("<div />").addClass("range-bar"))}b.addClass("mrslyde").hide().after(e),e.find(".left").text(c.min),e.find(".right").text(c.max),f.parent().data("mrslyde",c);var k=e.find(".mrslyde-handle");k.each(function(a){c.value[a]=d(parseFloat(c.value[a]),c.min,c.max),g(this,c.value[a],c)}),2===k.length&&i(e.find(".track")[0],k[0],k[1]),j(k,c,b,e.find(".center")[0])}var m=null,n={min:0,max:100,step:10,snap:!0,showValues:!0,precision:0,range:!1},o=a('<div class="mrslyde-container">			<div class="track-wrapper">				<div class="track">					<span class="mrslyde-handle"></span>				</div>			</div>			<div class="values">				<span class="left"></span><span class="center"></span><span class="right"></span>			</div>		</div>'),p=Math.min,q=Math.max,r=Math.round;return a("body").on("mousedown touchstart",function(b){var c=a(b.target);if(c.hasClass("mrslyde-handle")){b.preventDefault(),c.addClass("mousedown"),a("html").addClass("slyding"),"touchstart"===b.type&&c.addClass("touch"),m={handle:c[0],track:c.parent(),container:c.closest(".mrslyde-container"),otherHandle:c.siblings(".mrslyde-handle").first()[0]},m.handles=m.track.children(".mrslyde-handle").toArray(),m.opt=m.track.data("mrslyde"),m.input=m.container.prev(),m.label=m.container.find(".center")[0];var d={handle:c,handleWidth:c[0].offsetWidth,trackWidth:m.track[0].clientWidth};d.handleWidthNormalised=d.handleWidth/d.trackWidth,m.opt.props=d,m.input.trigger("slydestart")}}),void 0!==document.addEventListener?(document.addEventListener("mousemove",k,!1),document.addEventListener("touchmove",k,!1)):document.attachEvent&&document.attachEvent("onmousemove",k),a("body").on("mouseup touchend",function(){null!==m&&(m.input.trigger("slydeend"),a(".mrslyde-handle").removeClass("mousedown touch"),a("html").removeClass("slyding"),m=null)}),a("body").on("change","input.mrslyde",function(){var b=a(this).next(),c=b.find(".mrslyde-handle"),e=b.find(".track").data("mrslyde");e.value=this.value.split(","),c.each(function(a){e.value[a]=d(parseFloat(e.value[a]),e.min,e.max),g(this,e.value[a],e)}),2===c.length&&i(b.find(".track")[0],c[0],c[1]),this.value=e.value.join(","),j(c,e,this,a(this).next().find(".center"))}),this.each(function(){var d=a.extend({},n,c(a(this)),b);d.min=e(d.min,d.step),d.max=e(d.max,d.step),d.value=this.value.split(","),d.value[0].length||(d.value=[d.max-(d.max-d.min)/2]),d.normalisedStepSize=1/((d.max-d.min)/d.step),l(a(this),d)})}}(jQuery);