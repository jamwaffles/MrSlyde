/*! MrSlyde jQuery plugin version 1.0.0 (https://github.com/jamwaffles/MrSlyde), compiled on 22/07/2013 */
!function(a){a.fn.mrslyde=function(b){function c(b){var c={},d=b.data();return a.each(n,function(a){void 0!==d[a]&&(c[a]=d[a])}),d}function d(a,b,c){return Math.min(c,Math.max(a,b))}function e(a,b){return Math.round(a/b)*b}function f(a,b){return parseFloat(a).toFixed(b)}function g(b,c,d){a(b).parent(),a(b).data("value",c);var e=(c-d.min)/(d.max-d.min);b.style.left=100*e+"%"}function h(b,c,f,g,h){var i=b.offsetWidth,j=c.clientWidth,k=f-c.offsetLeft-i/2,l=i/j,m=1/((g.max-g.min)/g.step),n=0,o=1;if(void 0!==h){var p=0===a(b).index();p?o=parseFloat(h.style.left)/100-l:n=parseFloat(h.style.left)/100+l}var q=d(e(k/j,m),n,o),r=g.min+(g.max-g.min)*q;return a(b).data("value",r),b.style.left=100*q+"%",r}function i(b,c,d){var e=a(b).children(".range-bar")[0];100*(c.offsetWidth/b.clientWidth);var f=parseFloat(d.style.left)-parseFloat(c.style.left);e.style.left=c.style.left,e.style.width=f+"%"}function j(b,c,d){var e=f(a(b[0]).data("value"),c.precision),g=f(a(b[1]).data("value"),c.precision),h=a(b[0]).closest(".mrslyde-container").find(".center");h.html(e),b.length>1&&h.append(" &#8211; "+g),d.value=e+(isNaN(g)?"":","+g)}function k(a){if(document.documentElement.className.indexOf("slyding")>-1){a.preventDefault?a.preventDefault():a.returnValue=!1;var b=m.track.children(".mrslyde-handle"),c=m.opt,d=a.pageX||a.clientX||a.touches[0].clientX;h(m.handle[0],m.track[0],d,c,m.handle.siblings(".mrslyde-handle")[0]),c.range&&i(m.track[0],b.get(0),b.get(1)),j(b,c,m.input),m.input.trigger("slydechange")}}function l(b,c){var e=o.clone(),f=e.find(".mrslyde-handle");if(c.range){var h=f.clone();f.after(h),e.find(".track").append(a("<div />").addClass("range-bar"))}b.addClass("mrslyde").hide().after(e),e.find(".left").text(c.min),e.find(".right").text(c.max),f.parent().data("mrslyde",c);var k=e.find(".mrslyde-handle");k.each(function(a){c.value[a]=d(parseFloat(c.value[a]),c.min,c.max),g(this,c.value[a],c)}),2===k.length&&i(e.find(".track")[0],k[0],k[1]),j(k,c,b)}var m=null,n={min:0,max:100,step:10,snap:!0,showValues:!0,precision:0,range:!1},o=a('<div class="mrslyde-container">			<div class="track-wrapper">				<div class="track">					<span class="mrslyde-handle"></span>				</div>			</div>			<div class="values">				<span class="left"></span><span class="center"></span><span class="right"></span>			</div>		</div>');return a("body").on("mousedown touchstart",function(b){var c=a(b.target);c.hasClass("mrslyde-handle")&&(b.preventDefault(),c.addClass("mousedown"),a("html").addClass("slyding"),"touchstart"===b.type&&c.addClass("touch"),m={handle:c,track:c.parent(),container:c.closest(".mrslyde-container")},m.opt=m.track.data("mrslyde"),m.input=m.container.prev(),m.input.trigger("slydestart"))}),void 0!==document.addEventListener?(document.addEventListener("mousemove",k,!1),document.addEventListener("touchmove",k,!1)):document.attachEvent&&document.attachEvent("onmousemove",k),a("body").on("mouseup touchend",function(){return null===m?!1:(m.input.trigger("slydeend"),m.handle.removeClass("mousedown touch"),a("html").removeClass("slyding"),m=null,void 0)}),a("body").on("change","input.mrslyde",function(){var b=a(this).next(),c=b.find(".mrslyde-handle"),e=b.find(".track").data("mrslyde");e.value=this.value.split(","),c.each(function(a){e.value[a]=d(parseFloat(e.value[a]),e.min,e.max),g(this,e.value[a],e)}),2===c.length&&i(b.find(".track")[0],c[0],c[1]),this.value=e.value.join(","),j(c,e,this)}),this.each(function(){var d=a.extend({},n,c(a(this)),b);d.min=e(d.min,d.step),d.max=e(d.max,d.step),d.value=this.value.split(","),d.value[0].length||(d.value=[d.max-(d.max-d.min)/2]),l(a(this),d)})}}(jQuery);